[gd_scene format=3 uid="uid://yii6jwqhiiwc"]

[ext_resource type="Script" uid="uid://saqufyga24rl" path="res://godot_helpers/Additions/Physics/BuoyantArea3D.gd" id="1_1085l"]
[ext_resource type="Script" uid="uid://dbub6n8jfixth" path="res://godot_helpers/Additions/Physics/WaterTile.gd" id="2_whb2v"]
[ext_resource type="Shader" uid="uid://cgbg7cqe206aj" path="res://godot_helpers/Additions/Shaders/ToonWater.gdshader" id="3_whb2v"]
[ext_resource type="Texture2D" uid="uid://6pxir3pix28r" path="res://godot_helpers/Additions/Shaders/Resources/WaterPerlinNoise.png" id="4_4hhnq"]
[ext_resource type="Texture2D" uid="uid://dtxrwjsspcxyu" path="res://godot_helpers/Additions/Shaders/Resources/WaterDistortion.png" id="4_n50hy"]
[ext_resource type="Script" uid="uid://cwq6n8hpwitsm" path="res://godot_helpers/Additions/Physics/Gravitate.gd" id="6_xhmp7"]
[ext_resource type="PackedScene" uid="uid://cmb7h0qob7ej2" path="res://godot_helpers/Additions/Examples/SpeedBoat/speed_boat.tscn" id="8_40rxf"]
[ext_resource type="Script" uid="uid://dvt5sxxkp8els" path="res://godot_helpers/Additions/Cameras/OrbitCamera.gd" id="9_a1dbc"]

[sub_resource type="SphereShape3D" id="SphereShape3D_1085l"]
radius = 10.0

[sub_resource type="SphereMesh" id="SphereMesh_4hhnq"]
radius = 10.0
height = 20.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_n50hy"]
render_priority = 0
shader = ExtResource("3_whb2v")
shader_parameter/surfaceNoise = ExtResource("4_4hhnq")
shader_parameter/distortNoise = ExtResource("4_n50hy")
shader_parameter/beer_factor = 0.8
shader_parameter/foam_distance = 0.01
shader_parameter/foam_max_distance = 0.4
shader_parameter/foam_min_distance = 0.04
shader_parameter/foam_color = Color(1, 1, 1, 1)
shader_parameter/opaque = 0.0
shader_parameter/surface_noise_tiling = Vector2(1, 4)
shader_parameter/surface_noise_scroll = Vector3(0.03, 0.03, 0)
shader_parameter/surface_noise_cutoff = 0.777
shader_parameter/surface_distortion_amount = 0.27
shader_parameter/_DepthGradientShallow = Color(0.325, 0.807, 0.971, 0.725)
shader_parameter/_DepthGradientDeep = Color(0.086, 0.407, 1, 0.749)
shader_parameter/_DepthMaxDistance = 1.0
shader_parameter/_DepthFactor = 1.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0olvd"]
radius = 4.0
height = 20.0

[sub_resource type="CapsuleMesh" id="CapsuleMesh_40rxf"]
radius = 4.0
height = 20.0

[sub_resource type="CylinderShape3D" id="CylinderShape3D_0olvd"]
height = 20.0
radius = 4.0

[sub_resource type="CylinderMesh" id="CylinderMesh_40rxf"]
top_radius = 4.0
bottom_radius = 4.0
height = 20.0

[sub_resource type="BoxShape3D" id="BoxShape3D_40rxf"]
size = Vector3(10, 10, 10)

[sub_resource type="BoxMesh" id="BoxMesh_a1dbc"]
size = Vector3(10, 10, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_0olvd"]

[sub_resource type="BoxMesh" id="BoxMesh_40rxf"]

[node name="BuoyancyExample" type="Node3D" unique_id=1102682825]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=196416228]
transform = Transform3D(0.70710677, 0.61237246, -0.35355335, 0, 0.49999997, 0.86602545, 0.70710677, -0.61237246, 0.35355335, 0, 0, 0)

[node name="WaterTile" type="Area3D" parent="." unique_id=421007849]
linear_damp_space_override = 3
linear_damp = 1.4
angular_damp_space_override = 3
angular_damp = 1.4
script = ExtResource("2_whb2v")
debug = true
metadata/_custom_type_script = "uid://dbub6n8jfixth"

[node name="BuoyantSphere3D" type="Area3D" parent="." unique_id=119023336]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 20, 0)
linear_damp_space_override = 3
linear_damp = 1.4
angular_damp_space_override = 3
angular_damp = 1.4
script = ExtResource("1_1085l")
debug = true
metadata/_custom_type_script = "uid://saqufyga24rl"

[node name="CollisionShape3D" type="CollisionShape3D" parent="BuoyantSphere3D" unique_id=1688850869]
shape = SubResource("SphereShape3D_1085l")

[node name="MeshInstance3D" type="MeshInstance3D" parent="BuoyantSphere3D" unique_id=788009139]
mesh = SubResource("SphereMesh_4hhnq")
surface_material_override/0 = SubResource("ShaderMaterial_n50hy")

[node name="BuoyantCapsule3D" type="Area3D" parent="." unique_id=571743844]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 20, 0)
linear_damp_space_override = 3
linear_damp = 1.4
angular_damp_space_override = 3
angular_damp = 1.4
script = ExtResource("1_1085l")
debug = true
metadata/_custom_type_script = "uid://saqufyga24rl"

[node name="CollisionShape3D" type="CollisionShape3D" parent="BuoyantCapsule3D" unique_id=1232959126]
shape = SubResource("CapsuleShape3D_0olvd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="BuoyantCapsule3D" unique_id=1890768020]
mesh = SubResource("CapsuleMesh_40rxf")
surface_material_override/0 = SubResource("ShaderMaterial_n50hy")

[node name="BuoyantCylinder3D" type="Area3D" parent="." unique_id=1340649906]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 20, 0)
linear_damp_space_override = 3
linear_damp = 1.4
angular_damp_space_override = 3
angular_damp = 1.4
script = ExtResource("1_1085l")
debug = true
metadata/_custom_type_script = "uid://saqufyga24rl"

[node name="CollisionShape3D" type="CollisionShape3D" parent="BuoyantCylinder3D" unique_id=218942301]
shape = SubResource("CylinderShape3D_0olvd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="BuoyantCylinder3D" unique_id=618634243]
mesh = SubResource("CylinderMesh_40rxf")
surface_material_override/0 = SubResource("ShaderMaterial_n50hy")

[node name="BuoyantBox3D" type="Area3D" parent="." unique_id=1026477436]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 20, -20)
linear_damp_space_override = 3
linear_damp = 1.4
angular_damp_space_override = 3
angular_damp = 1.4
script = ExtResource("1_1085l")
debug = true
metadata/_custom_type_script = "uid://saqufyga24rl"

[node name="CollisionShape3D" type="CollisionShape3D" parent="BuoyantBox3D" unique_id=69001042]
shape = SubResource("BoxShape3D_40rxf")

[node name="MeshInstance3D" type="MeshInstance3D" parent="BuoyantBox3D" unique_id=1489117146]
mesh = SubResource("BoxMesh_a1dbc")
surface_material_override/0 = SubResource("ShaderMaterial_n50hy")

[node name="RigidBody3D" type="RigidBody3D" parent="." unique_id=1735229927]
transform = Transform3D(0.37201145, 0.8799721, 0.2953922, -0.6891416, 0.47502533, -0.54720634, -0.6218451, 0, 0.78314024, -8.477463, 27.228596, -1.1538773)
mass = 20.0
gravity_scale = 0.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D" unique_id=682003917]
shape = SubResource("BoxShape3D_0olvd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D" unique_id=1724811889]
mesh = SubResource("BoxMesh_40rxf")

[node name="Gravitate" type="Node3D" parent="RigidBody3D" unique_id=975163711 node_paths=PackedStringArray("target")]
script = ExtResource("6_xhmp7")
gravity_mode = 0
target = NodePath("../../BuoyantSphere3D")
acceleration = 9.8
metadata/_custom_type_script = "uid://cwq6n8hpwitsm"

[node name="RigidBody3D2" type="RigidBody3D" parent="." unique_id=1803278920]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, -48.978638, 0)
mass = 20.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D2" unique_id=857004380]
shape = SubResource("BoxShape3D_0olvd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D2" unique_id=1723132167]
mesh = SubResource("BoxMesh_40rxf")

[node name="SpeedBoat" parent="." unique_id=1884655739 instance=ExtResource("8_40rxf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 30.80567, 0)
gravity_scale = 0.0

[node name="Gravitate" type="Node3D" parent="SpeedBoat" unique_id=682454116 node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 0.99999994, 0, 0, 0, 1, 0, 0, 0)
script = ExtResource("6_xhmp7")
gravity_mode = 0
target = NodePath("../../BuoyantSphere3D")
acceleration = 9.8
metadata/_custom_type_script = "uid://cwq6n8hpwitsm"

[node name="OrbitCamera" type="Camera3D" parent="." unique_id=566443062 node_paths=PackedStringArray("target")]
script = ExtResource("9_a1dbc")
mouse_input = true
target = NodePath("../SpeedBoat")
limit_angle = false
look_input_enabled = false
metadata/_custom_type_script = "uid://dvt5sxxkp8els"
